<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BEEP-8 SDK: include/b8/tmr.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">BEEP-8 SDK<span id="projectnumber">&#160;1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_6c70c3fe8cbbab604dca6f2c54086f7c.html">b8</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">tmr.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Timer functions for the BEEP-8 system.  
<a href="#details">More...</a></p>

<p><a href="tmr_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa23571091f56c751c4bc4f06f79c92a8" id="r_aa23571091f56c751c4bc4f06f79c92a8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa23571091f56c751c4bc4f06f79c92a8">b8TmrSetup</a> (u32 tmr_ch, u32 cycval)</td></tr>
<tr class="memdesc:aa23571091f56c751c4bc4f06f79c92a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up a timer with a specified cycle value.  <br /></td></tr>
<tr class="separator:aa23571091f56c751c4bc4f06f79c92a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77b83ce867cc6bf9077b51cf85832f74" id="r_a77b83ce867cc6bf9077b51cf85832f74"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a77b83ce867cc6bf9077b51cf85832f74">b8TmrWait</a> (u32 tmr_ch)</td></tr>
<tr class="memdesc:a77b83ce867cc6bf9077b51cf85832f74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for a timer interrupt.  <br /></td></tr>
<tr class="separator:a77b83ce867cc6bf9077b51cf85832f74"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Timer functions for the BEEP-8 system. </p>
<p>This file provides function prototypes for timer setup and wait operations in the BEEP-8 system. It includes functions to configure and wait for timer interrupts.</p>
<p>Functions provided:</p><ul>
<li><code>b8TmrSetup</code>: Set up a timer with a specified cycle value</li>
<li><code>b8TmrWait</code>: Wait for a timer interrupt</li>
</ul>
<p>Example usage (prints 10 characteres every second): </p><div class="fragment"><div class="line"><span class="preprocessor">#define TIMER_CH (2)</span></div>
<div class="line"><span class="preprocessor">#define TIMER_HZ (10)</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">void</span>){</div>
<div class="line">  <a class="code hl_function" href="#aa23571091f56c751c4bc4f06f79c92a8">b8TmrSetup</a>(TIMER_CH, (<a class="code hl_function" href="sys_8h.html#a30a9bfdad345f370e6f86504e3260f15">b8SysGetCpuClock</a>() / TIMER_HZ) &gt;&gt; 8);</div>
<div class="line">  <span class="keywordflow">while</span>(1){</div>
<div class="line">    <a class="code hl_function" href="#a77b83ce867cc6bf9077b51cf85832f74">b8TmrWait</a>(TIMER_CH);</div>
<div class="line">    printf(<span class="stringliteral">&quot;T&quot;</span>);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="asys_8h_html_a30a9bfdad345f370e6f86504e3260f15"><div class="ttname"><a href="sys_8h.html#a30a9bfdad345f370e6f86504e3260f15">b8SysGetCpuClock</a></div><div class="ttdeci">u32 b8SysGetCpuClock(void)</div><div class="ttdoc">Get the CPU clock speed.</div><div class="ttdef"><b>Definition</b> sys.c:62</div></div>
<div class="ttc" id="atmr_8h_html_a77b83ce867cc6bf9077b51cf85832f74"><div class="ttname"><a href="#a77b83ce867cc6bf9077b51cf85832f74">b8TmrWait</a></div><div class="ttdeci">int b8TmrWait(u32 tmr_ch)</div><div class="ttdoc">Wait for a timer interrupt.</div><div class="ttdef"><b>Definition</b> tmr.c:20</div></div>
<div class="ttc" id="atmr_8h_html_aa23571091f56c751c4bc4f06f79c92a8"><div class="ttname"><a href="#aa23571091f56c751c4bc4f06f79c92a8">b8TmrSetup</a></div><div class="ttdeci">int b8TmrSetup(u32 tmr_ch, u32 cycval)</div><div class="ttdoc">Set up a timer with a specified cycle value.</div><div class="ttdef"><b>Definition</b> tmr.c:4</div></div>
</div><!-- fragment --><p>For more detailed information, please refer to the BEEP-8 data sheet. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aa23571091f56c751c4bc4f06f79c92a8" name="aa23571091f56c751c4bc4f06f79c92a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa23571091f56c751c4bc4f06f79c92a8">&#9670;&#160;</a></span>b8TmrSetup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int b8TmrSetup </td>
          <td>(</td>
          <td class="paramtype">u32</td>          <td class="paramname"><span class="paramname"><em>tmr_ch</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32</td>          <td class="paramname"><span class="paramname"><em>cycval</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set up a timer with a specified cycle value. </p>
<p>This function configures the specified timer channel with the given cycle value. It sets the timer mode to periodic, initializes the counter and period registers, and enables the timer. Additionally, it sets up an IRQ wait handler for the timer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tmr_ch</td><td>The timer channel to set up. </td></tr>
    <tr><td class="paramname">cycval</td><td>The cycle value for the timer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success; an error code on failure. </dd></dl>

</div>
</div>
<a id="a77b83ce867cc6bf9077b51cf85832f74" name="a77b83ce867cc6bf9077b51cf85832f74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77b83ce867cc6bf9077b51cf85832f74">&#9670;&#160;</a></span>b8TmrWait()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int b8TmrWait </td>
          <td>(</td>
          <td class="paramtype">u32</td>          <td class="paramname"><span class="paramname"><em>tmr_ch</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wait for a timer interrupt. </p>
<p>This function waits for an interrupt from the specified timer channel. It blocks until the timer interrupt occurs.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tmr_ch</td><td>The timer channel to wait for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success; an error code on failure. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
