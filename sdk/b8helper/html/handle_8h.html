<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BEEP-8 SDK: include/handle.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">BEEP-8 SDK<span id="projectnumber">&#160;1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">handle.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Module for managing pointers using handles.  
<a href="#details">More...</a></p>

<p><a href="handle_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4d822234503163ab42e7258c31158eb9"><td class="memItemLeft" align="right" valign="top"><a id="a4d822234503163ab42e7258c31158eb9" name="a4d822234503163ab42e7258c31158eb9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>HANDLE_NULL</b>&#160;&#160;&#160;(0)</td></tr>
<tr class="separator:a4d822234503163ab42e7258c31158eb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa3d3cba7c093d41293a6ef329877ebd7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handle_8h.html#aa3d3cba7c093d41293a6ef329877ebd7">Handle_Reset</a> ()</td></tr>
<tr class="memdesc:aa3d3cba7c093d41293a6ef329877ebd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the handle management table.  <br /></td></tr>
<tr class="separator:aa3d3cba7c093d41293a6ef329877ebd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a714a6f32fc1b80ecdf918a98d67be379"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handle_8h.html#a714a6f32fc1b80ecdf918a98d67be379">Handle_Dump</a> ()</td></tr>
<tr class="memdesc:a714a6f32fc1b80ecdf918a98d67be379"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dumps the contents of the handle management table.  <br /></td></tr>
<tr class="separator:a714a6f32fc1b80ecdf918a98d67be379"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a47db60c75e94fa4f25cf8c3f54798a"><td class="memItemLeft" align="right" valign="top">u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handle_8h.html#a9a47db60c75e94fa4f25cf8c3f54798a">Handle_Entry</a> (void *pPtr)</td></tr>
<tr class="memdesc:a9a47db60c75e94fa4f25cf8c3f54798a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a pointer and returns a handle.  <br /></td></tr>
<tr class="separator:a9a47db60c75e94fa4f25cf8c3f54798a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bc1f2ed3c609cdfbe2861fb68c7e37a"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handle_8h.html#a7bc1f2ed3c609cdfbe2861fb68c7e37a">Handle_GetPointer</a> (u32 hdl)</td></tr>
<tr class="memdesc:a7bc1f2ed3c609cdfbe2861fb68c7e37a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a pointer from a handle.  <br /></td></tr>
<tr class="separator:a7bc1f2ed3c609cdfbe2861fb68c7e37a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26000464080feb34e86ff42ca4b38f53"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handle_8h.html#a26000464080feb34e86ff42ca4b38f53">Handle_IsAlive</a> (u32 hdl)</td></tr>
<tr class="memdesc:a26000464080feb34e86ff42ca4b38f53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a handle is valid.  <br /></td></tr>
<tr class="separator:a26000464080feb34e86ff42ca4b38f53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84f0f656c1af49f071aacb60ebbb8b08"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handle_8h.html#a84f0f656c1af49f071aacb60ebbb8b08">Handle_Remove</a> (u32 hdl)</td></tr>
<tr class="memdesc:a84f0f656c1af49f071aacb60ebbb8b08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a handle and frees the associated pointer.  <br /></td></tr>
<tr class="separator:a84f0f656c1af49f071aacb60ebbb8b08"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Module for managing pointers using handles. </p>
<p>This module provides functions to manage pointers using handles. It allows accessing pointers through handles, checking the validity of handles, and removing handles. This is particularly useful for dynamic memory management and resource management.</p>
<p>This module is provided as a helper for lower-level functions of cobj. While users can use it directly, it is neither recommended nor mandatory.</p>
<p><b>Note</b>: This module is not thread-safe. Use appropriate synchronization mechanisms if accessing it from multiple threads.</p>
<h3><a class="anchor" id="autotoc_md34"></a>
Features</h3>
<ul>
<li><b>Handle_Reset</b>: Resets the handle management table.</li>
<li><b>Handle_Dump</b>: Dumps the contents of the handle management table.</li>
<li><b>Handle_Entry</b>: Registers a pointer and returns a handle.</li>
<li><b>Handle_GetPointer</b>: Retrieves a pointer from a handle.</li>
<li><b>Handle_IsAlive</b>: Checks if a handle is valid.</li>
<li><b>Handle_Remove</b>: Removes a handle and frees the associated pointer.</li>
</ul>
<h3><a class="anchor" id="autotoc_md35"></a>
Usage Example</h3>
<p>Here is an example of how to use this module to manage pointers with handles:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="handle_8h.html">handle.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <span class="comment">// Reset the handle management table</span></div>
<div class="line">    <a class="code hl_function" href="handle_8h.html#aa3d3cba7c093d41293a6ef329877ebd7">Handle_Reset</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Allocate memory on the heap, register the pointer, and get a handle</span></div>
<div class="line">    <span class="keywordtype">int</span>* pHeap = (<span class="keywordtype">int</span>*)malloc(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div>
<div class="line">    <span class="keywordflow">if</span> (pHeap == NULL) {</div>
<div class="line">        perror(<span class="stringliteral">&quot;Failed to allocate memory&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line">    *pHeap = 10;</div>
<div class="line">    u32 handle = <a class="code hl_function" href="handle_8h.html#a9a47db60c75e94fa4f25cf8c3f54798a">Handle_Entry</a>(pHeap);</div>
<div class="line">    printf(<span class="stringliteral">&quot;Handle: %u\n&quot;</span>, handle);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Retrieve the pointer from the handle</span></div>
<div class="line">    <span class="keywordtype">int</span>* p = (<span class="keywordtype">int</span>*)<a class="code hl_function" href="handle_8h.html#a7bc1f2ed3c609cdfbe2861fb68c7e37a">Handle_GetPointer</a>(handle);</div>
<div class="line">    <span class="keywordflow">if</span> (p) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Value: %d\n&quot;</span>, *p);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Pointer not found\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Check if the handle is valid</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code hl_function" href="handle_8h.html#a26000464080feb34e86ff42ca4b38f53">Handle_IsAlive</a>(handle)) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Handle is alive\n&quot;</span>);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Handle is not alive\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Free the pointer and remove the handle</span></div>
<div class="line">    free(p); <span class="comment">// Free the pointer before removing the handle</span></div>
<div class="line">    <a class="code hl_function" href="handle_8h.html#a84f0f656c1af49f071aacb60ebbb8b08">Handle_Remove</a>(handle);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Check that the handle has been successfully removed</span></div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code hl_function" href="handle_8h.html#a26000464080feb34e86ff42ca4b38f53">Handle_IsAlive</a>(handle)) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Handle successfully removed\n&quot;</span>);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Handle removal failed\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="ahandle_8h_html"><div class="ttname"><a href="handle_8h.html">handle.h</a></div><div class="ttdoc">Module for managing pointers using handles.</div></div>
<div class="ttc" id="ahandle_8h_html_a26000464080feb34e86ff42ca4b38f53"><div class="ttname"><a href="handle_8h.html#a26000464080feb34e86ff42ca4b38f53">Handle_IsAlive</a></div><div class="ttdeci">bool Handle_IsAlive(u32 hdl)</div><div class="ttdoc">Checks if a handle is valid.</div><div class="ttdef"><b>Definition</b> handle.cpp:80</div></div>
<div class="ttc" id="ahandle_8h_html_a7bc1f2ed3c609cdfbe2861fb68c7e37a"><div class="ttname"><a href="handle_8h.html#a7bc1f2ed3c609cdfbe2861fb68c7e37a">Handle_GetPointer</a></div><div class="ttdeci">void * Handle_GetPointer(u32 hdl)</div><div class="ttdoc">Retrieves a pointer from a handle.</div><div class="ttdef"><b>Definition</b> handle.cpp:57</div></div>
<div class="ttc" id="ahandle_8h_html_a84f0f656c1af49f071aacb60ebbb8b08"><div class="ttname"><a href="handle_8h.html#a84f0f656c1af49f071aacb60ebbb8b08">Handle_Remove</a></div><div class="ttdeci">void Handle_Remove(u32 hdl)</div><div class="ttdoc">Removes a handle and frees the associated pointer.</div><div class="ttdef"><b>Definition</b> handle.cpp:84</div></div>
<div class="ttc" id="ahandle_8h_html_a9a47db60c75e94fa4f25cf8c3f54798a"><div class="ttname"><a href="handle_8h.html#a9a47db60c75e94fa4f25cf8c3f54798a">Handle_Entry</a></div><div class="ttdeci">u32 Handle_Entry(void *pPtr)</div><div class="ttdoc">Registers a pointer and returns a handle.</div><div class="ttdef"><b>Definition</b> handle.cpp:41</div></div>
<div class="ttc" id="ahandle_8h_html_aa3d3cba7c093d41293a6ef329877ebd7"><div class="ttname"><a href="handle_8h.html#aa3d3cba7c093d41293a6ef329877ebd7">Handle_Reset</a></div><div class="ttdeci">void Handle_Reset()</div><div class="ttdoc">Resets the handle management table.</div><div class="ttdef"><b>Definition</b> handle.cpp:18</div></div>
</div><!-- fragment --><dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2024 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a714a6f32fc1b80ecdf918a98d67be379" name="a714a6f32fc1b80ecdf918a98d67be379"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a714a6f32fc1b80ecdf918a98d67be379">&#9670;&#160;</a></span>Handle_Dump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Handle_Dump </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dumps the contents of the handle management table. </p>
<p>This function dumps the contents of the handle management table, displaying all valid entries. </p>

</div>
</div>
<a id="a9a47db60c75e94fa4f25cf8c3f54798a" name="a9a47db60c75e94fa4f25cf8c3f54798a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a47db60c75e94fa4f25cf8c3f54798a">&#9670;&#160;</a></span>Handle_Entry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u32 Handle_Entry </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pPtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a pointer and returns a handle. </p>
<p>This function registers a pointer and returns a handle that can be used to access the pointer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pPtr</td><td>Pointer to be registered. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="class_handle.html">Handle</a> corresponding to the registered pointer. </dd></dl>

</div>
</div>
<a id="a7bc1f2ed3c609cdfbe2861fb68c7e37a" name="a7bc1f2ed3c609cdfbe2861fb68c7e37a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bc1f2ed3c609cdfbe2861fb68c7e37a">&#9670;&#160;</a></span>Handle_GetPointer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * Handle_GetPointer </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>hdl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves a pointer from a handle. </p>
<p>This function retrieves the pointer associated with the given handle.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hdl</td><td><a class="el" href="class_handle.html">Handle</a> to be used to retrieve the pointer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer associated with the handle, or NULL if the handle is invalid. </dd></dl>

</div>
</div>
<a id="a26000464080feb34e86ff42ca4b38f53" name="a26000464080feb34e86ff42ca4b38f53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26000464080feb34e86ff42ca4b38f53">&#9670;&#160;</a></span>Handle_IsAlive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Handle_IsAlive </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>hdl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if a handle is valid. </p>
<p>This function checks if the given handle is valid and has an associated pointer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hdl</td><td><a class="el" href="class_handle.html">Handle</a> to be checked. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the handle is valid, false otherwise. </dd></dl>

</div>
</div>
<a id="a84f0f656c1af49f071aacb60ebbb8b08" name="a84f0f656c1af49f071aacb60ebbb8b08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84f0f656c1af49f071aacb60ebbb8b08">&#9670;&#160;</a></span>Handle_Remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Handle_Remove </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>hdl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a handle and frees the associated pointer. </p>
<p>This function removes the given handle and frees the memory associated with the pointer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hdl</td><td><a class="el" href="class_handle.html">Handle</a> to be removed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa3d3cba7c093d41293a6ef329877ebd7" name="aa3d3cba7c093d41293a6ef329877ebd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3d3cba7c093d41293a6ef329877ebd7">&#9670;&#160;</a></span>Handle_Reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Handle_Reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the handle management table. </p>
<p>This function resets the handle management table, initializing all entries and resetting the next handle to be used. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
